/*! For license information please see notifications-b2ecfaf28229d32d0cb2.js.LICENSE.txt */
(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[909],{67814:function(e,t,n){"use strict";n.d(t,{G:function(){return h}});var r=n(78947),o=n(45697),i=n.n(o),a=n(67294);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}function m(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),o=d(t.slice(0,r)),i=t.slice(r+1).trim();return o.startsWith("webkit")?e[(n=o,n.charAt(0).toUpperCase()+n.slice(1))]=i:e[o]=i,e}),{})}var y=!1;try{y=!0}catch(w){}function v(e){return r.Qc.icon?r.Qc.icon(e):null===e?null:"object"===s(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function b(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?c({},e,t):{}}function h(e){var t=e.forwardedRef,n=f(e,["forwardedRef"]),o=n.icon,i=n.mask,a=n.symbol,s=n.className,l=n.title,d=n.titleId,m=v(o),w=b("classes",[].concat(p(function(e){var t,n=e.spin,r=e.pulse,o=e.fixedWidth,i=e.inverse,a=e.border,s=e.listItem,l=e.flip,u=e.size,f=e.rotation,p=e.pull,d=(c(t={"fa-spin":n,"fa-pulse":r,"fa-fw":o,"fa-inverse":i,"fa-border":a,"fa-li":s,"fa-flip-horizontal":"horizontal"===l||"both"===l,"fa-flip-vertical":"vertical"===l||"both"===l},"fa-".concat(u),"undefined"!==typeof u&&null!==u),c(t,"fa-rotate-".concat(f),"undefined"!==typeof f&&null!==f&&0!==f),c(t,"fa-pull-".concat(p),"undefined"!==typeof p&&null!==p),c(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(d).map((function(e){return d[e]?e:null})).filter((function(e){return e}))}(n)),p(s.split(" ")))),x=b("transform","string"===typeof n.transform?r.Qc.transform(n.transform):n.transform),O=b("mask",v(i)),k=(0,r.qv)(m,u({},w,{},x,{},O,{symbol:a,title:l,titleId:d}));if(!k)return function(){var e;!y&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",m),null;var N=k.abstract,j={ref:t};return Object.keys(n).forEach((function(e){h.defaultProps.hasOwnProperty(e)||(j[e]=n[e])})),g(N[0],j)}h.displayName="FontAwesomeIcon",h.propTypes={border:i().bool,className:i().string,mask:i().oneOfType([i().object,i().array,i().string]),fixedWidth:i().bool,inverse:i().bool,flip:i().oneOf(["horizontal","vertical","both"]),icon:i().oneOfType([i().object,i().array,i().string]),listItem:i().bool,pull:i().oneOf(["right","left"]),pulse:i().bool,rotation:i().oneOf([0,90,180,270]),size:i().oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:i().bool,symbol:i().oneOfType([i().bool,i().string]),title:i().string,transform:i().oneOfType([i().string,i().object]),swapOpacity:i().bool},h.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var g=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var o=(n.children||[]).map((function(n){return e(t,n)})),i=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=m(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[d(t)]=r}return e}),{attrs:{}}),a=r.style,s=void 0===a?{}:a,c=f(r,["style"]);return i.attrs.style=u({},i.attrs.style,{},s),t.apply(void 0,[n.tag,u({},i.attrs,{},c)].concat(p(o)))}.bind(null,a.createElement)},60546:function(e,t,n){"use strict";var r=n(9669),o=n.n(r),i=document.querySelector('[name="csrf-token"]')||{content:"no-csrf-token"},a=o().create({headers:{common:{"X-CSRF-Token":i.content}}});t.Z=a},56984:function(e,t,n){"use strict";var r=n(76403);t.Z=function(e,t){var n=t.preloadedState,o=t.extraArgument,i=(0,r.Bx)({thunk:{extraArgument:o}});return(0,r.xC)({preloadedState:n,reducer:e,middleware:i})}},69382:function(e,t,n){"use strict";var r=n(20817),o=n.n(r),i=n(67294),a=n(73935),s=n(37703),c=n(94184),l=n.n(c),u=n(90857),f=n.n(u),p=n(84873),d=n(26793),m=n(67814),y=n(87757),v=n.n(y),b=n(76403),h=n(6162),g=n.n(h),w=n(60546);function x(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,o)}var O=(0,b.oM)({name:"notificationsMenu",initialState:{notifications:{},menu:{isOpen:!1}},reducers:{toggleMenu:function(e){var t=e.menu,n=e.notifications;t.isOpen=!t.isOpen,n.hasNewNotifications=!1}}}),k=O.actions.toggleMenu,N=Object.assign({},O.actions,{onToggle:function(e,t){return function(){var n,r=(n=v().mark((function n(r){var o,i,a;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r(k()),t){n.next=3;break}return n.abrupt("return");case 3:return o=f().last_viewed_notification_api_user_path({format:"json"}),i=g()(e,"id").id,n.next=7,w.Z.post(o,{notification_id:i});case 7:if(201===(a=n.sent).status){n.next=10;break}throw new Error("Request status is "+a.status+". Must be 201.");case 10:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){x(i,r,o,a,s,"next",e)}function s(e){x(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}()}}),j=O.reducer,E=function(e){var t=e.notifications,n=(0,s.v9)((function(e){return{hasNewNotifications:e.notifications.hasNewNotifications,isOpen:e.menu.isOpen}})),r=n.hasNewNotifications,o=n.isOpen,a=(0,d.$)().t,c=(0,s.I0)(),u=l()({dropdown:!0,show:o}),y=l()({"mr-1":!0,"text-danger":r});return i.createElement("div",{className:u},i.createElement(p.Z,{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){c(N.onToggle(t,r))}},i.createElement(m.G,{className:y,icon:[r?"fas":"far","bell"]})),i.createElement("div",{className:"dropdown-menu dropdown-menu-right vw-100 py-0 overflow-hidden",style:{maxWidth:"430px"},"aria-labelledby":"navbarDropdownMenuLink"},i.createElement("div",{className:"dropdown-header d-flex"},i.createElement("span",null,a("notifications.description")),i.createElement("a",{href:f().edit_account_notifications_path(),className:"ml-auto x-link-only-hover"},i.createElement("span",null,a("notifications.settings")))),function(e){var t=e.notifications,n=e.t;return 0===t.length?i.createElement("div",{className:"dropdown-item text-wrap border-top py-2 px-3 d-flex disabled align-items-center"},i.createElement("div",{className:"hexlet-notification-icon rounded-circle mr-2 bg-secondary text-white flex-shrink-0 d-flex"},i.createElement(m.G,{icon:["fas","envelope-open"],className:"m-auto"})),i.createElement("div",null,i.createElement("span",null,n("notifications.empty")))):t.map((function(e){return i.createElement("a",{className:"dropdown-item text-wrap border-top pt-2 px-3 d-flex",href:e.url,key:e.id},i.createElement("div",{className:"hexlet-notification-icon rounded-circle mr-2 bg-info text-white flex-shrink-0 d-flex"},i.createElement("div",{dangerouslySetInnerHTML:{__html:e.icon},className:"m-auto"})),i.createElement("div",{className:"small"},i.createElement("div",{dangerouslySetInnerHTML:{__html:e.message}}),i.createElement("div",{className:"d-block my-1 text-muted"},e.human_created_at)))}))}({notifications:t,t:a})))},A=n(56984);(0,n(2522).Z)(),function(e,t){var n=t.some((function(t){return t.id>e.last_viewed_notification_id})),r=(0,A.Z)(j,{preloadedState:{notifications:{hasNewNotifications:n},menu:{isOpen:!1}}}),o=document.getElementById("notifications");o&&a.render(i.createElement(s.zt,{store:r},i.createElement(E,{notifications:t})),o)}(o().current_user,o().notifications)},94184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&e.push(a)}else if("object"===i)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},56029:function(e,t,n){var r=n(33448);e.exports=function(e,t,n){for(var o=-1,i=e.length;++o<i;){var a=e[o],s=t(a);if(null!=s&&(void 0===c?s===s&&!r(s):n(s,c)))var c=s,l=a}return l}},53325:function(e){e.exports=function(e,t){return e>t}},6557:function(e){e.exports=function(e){return e}},33448:function(e,t,n){var r=n(44239),o=n(37005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},6162:function(e,t,n){var r=n(56029),o=n(53325),i=n(6557);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},84873:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(22122),o=n(19756),i=n(67294);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}}),null)};function s(e){return!e||"#"===e.trim()}var c=i.forwardRef((function(e,t){var n=e.as,c=void 0===n?"a":n,l=e.disabled,u=e.onKeyDown,f=(0,o.Z)(e,["as","disabled","onKeyDown"]),p=function(e){var t=f.href,n=f.onClick;(l||s(t))&&e.preventDefault(),l?e.stopPropagation():n&&n(e)};return s(f.href)&&(f.role=f.role||"button",f.href=f.href||"#"),l&&(f.tabIndex=-1,f["aria-disabled"]=!0),i.createElement(c,(0,r.Z)({ref:t},f,{onClick:p,onKeyDown:a((function(e){" "===e.key&&(e.preventDefault(),p(e))}),u)}))}));c.displayName="SafeAnchor";var l=c},20817:function(e){"use strict";e.exports=gon}},0,[[69382,666,935,894,76,947,997,877,857,522]]]);
//# sourceMappingURL=notifications-b2ecfaf28229d32d0cb2.js.map